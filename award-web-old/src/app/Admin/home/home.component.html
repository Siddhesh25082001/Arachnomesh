
<app-admin-dashboard-header></app-admin-dashboard-header>
  <!-- Main content -->
  <div class="main main-content admin-dashboard" id="panel">

    <div class="header bg-primary pb-6">
      <div class="container-fluid">
        <div class="header-body">
          <div class="row align-items-center py-4">
            <div class="col-lg-6 col-7">
              <h6 class="h2 text-white d-inline-block mb-0">Users</h6>
            </div>
            <div class="col-lg-6 col-5 text-right">
              <a (click)="commonService.logout()" class="btn btn-neutral my-4">Logout</a>
              <!-- <button  >Open Modal</button> -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Page content -->
    <div class="container-fluid mt--6">
      <div class="row">
        <div class="col">
          <div class="card">
            <!-- Card header -->
            <div style=" display: flex; ">
            <div class="card-header border-0" style=" padding-right: 610px; ">
              <h3 class="mb-0">Jury Data</h3>
            </div>
            <div *ngIf="!archive"  style =" margin-bottom: 20px; padding-top: 10px; margin-left: 10px;">
              <label class="form-control-label" for="">Year</label>
              <select class="form-control" [(ngModel)]="year" (change)="filterYear()">
                <option value="-1">Select</option>
                <option value="2020">2020</option>
                <option value="2021">2021</option>
                <option value="2022">2022</option>

              </select>
            </div>

            <div class="card-header border-0" (click)="getArchiveJuries()">
              <a *ngIf="!archive" class="btn btn-sm btn-primary" style=" color: aliceblue;padding: 12px;margin-top: 20px;margin-left: 20px;">Show archive data</a>
              <a *ngIf="archive" class="btn btn-sm btn-primary" style=" color: aliceblue;padding: 12px;margin-top: 20px;">Show data</a>
            </div>

            <div class="card-header border-0">
              <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#loginModal" (click)="clear();disabled = false;queryFlag = 'insert'" style="margin-top: 20px;">Add new</button>
            </div>
          </div>
            <!-- Light table -->
            <div class="table-responsive">
              <table class="table align-items-center table-flush">
                <thead class="thead-light">
                  <tr>
                    <th scope="col" class="sort" data-sort="name" (click)="setOrder('name')" style=" cursor: pointer;">Jury Name</th>
                    <th scope="col" class="sort" data-sort="budget" (click)="setOrder('email')" style=" cursor: pointer;">Email</th>
                    <th scope="col" class="sort" data-sort="status" (click)="setOrder('phone')" style=" cursor: pointer;">Number</th>
                    <th scope="col" class="sort" data-sort="year" (click)="setOrder('year')" style=" cursor: pointer;">Year</th>
                    <th scope="col" class="sort" data-sort="completion">Delete</th>
                    <th scope="col" class="sort" data-sort="completion">View</th>
                    <th scope="col" class="sort" data-sort="completion">Edit</th>
                    <th scope="col" class="sort" data-sort="completion"  *ngIf="!archive">Archive</th>
                  <th scope="col" class="sort" data-sort="completion"  *ngIf="archive">Undo</th>
                  </tr>
                </thead>
                <tbody class="list">
                  <tr *ngFor="let item of juryList">

                    <td class="budget">
                     {{item.name}}
                    </td>
                    <td>
                      {{item.email}}
                    </td>
                    <td>
                      {{item.phone}}
                    </td>
                    <td>
                      {{item.year}}
                    </td>
                    <td>
                      <i class="icon-remove" style=" cursor: pointer; " (click)="action('remove',item?._id)"></i>
                    </td>
                    <td>
                      <i class="icon-eye" style=" cursor: pointer; " (click)="action('view',item);disabled = true;" data-toggle="modal" data-target="#loginModal"></i>
                    </td>
                    <td>
                      <i class="icon-edit" style=" cursor: pointer; " (click)="action('edit',item);disabled = false;queryFlag = 'update'" data-toggle="modal" data-target="#loginModal"></i>
                    </td>
                    <td>
                      <span (click)="archiveJury(item?._id)" class="badge badge-danger" style=" cursor: pointer; " *ngIf="!archive">Archive</span>
                      <span (click)="archiveJury(item?._id)" class="badge badge-danger" style=" cursor: pointer; " *ngIf="archive">Undo</span>
                    </td>
                    <td>
                      <span [routerLink]="'/assignment/'+item._id" class="badge" style=" cursor: pointer; ">Assign Nomination</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

          </div>
          <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-end">
              <li class="page-item">
                <a class="page-link" aria-label="Previous" (click)="previousPage()">
                  <span aria-hidden="true" >&laquo;</span>
                </a>
              </li>
              <li class="page-item text-white mt-2">
                  {{currentPage}} of {{totalPage}}
              </li>

               <li class="page-item">
                <a class="page-link" aria-label="Next" (click)="nextPage()">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade login" id=loginModal>
    <div class="modal-dialog login animated">
       <div class=modal-content>
          <div class=modal-header>
             <button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button>
          </div>
          <div class=modal-body>
            <form>
              <div class="card-header-image" *ngIf="file">
                <a href="javascript:;">
                  <img class="img" [src]="'/uploads/'+file" class="mg-centre">
                </a>
              </div>
              <div class="card-header-image" *ngIf="file2">
                <a href="javascript:;">
                  <img class="img" [src]="'/uploads/'+file2" class="mg-centre">
                </a>
              </div>
              <div class="form-group">
                  <label for="example-text-input" class="form-control-label" >Name</label>
                  <input class="form-control" type="text"  id="example-text-input"  name="juryName" [(ngModel)]="name" [disabled]="disabled">
              </div>
              <div class="form-group">
                <label for="example-text-input" class="form-control-label" >Designation</label>
                <input class="form-control" type="text"  id="example-text-input"  name="designation" [(ngModel)]="designation" [disabled]="disabled">
             </div>
             <div class="form-group">
              <label for="example-text-input" class="form-control-label" >Company Website</label>
              <input class="form-control" type="text"  id="example-text-input"  name="website" [(ngModel)]="website" [disabled]="disabled">
           </div>
              <div class="form-group">
                  <label for="example-email-input" class="form-control-label">Email</label>
                  <input class="form-control" type="email" value="" id="example-email-input" [(ngModel)]="email" name="email" [disabled]="disabled">
              </div>
              <div class="form-group">
                <label for="example-year-input" class="form-control-label">Year</label><br>
                <input type="checkbox" value="2020" name="year1" [(ngModel)]="year1">
                <label for="year1">2020</label><br>
                <input type="checkbox" value="2021" name="year2" [(ngModel)]="year2">
                <label for="year2">2021</label>
                <input type="checkbox" value="2022" name="year3" [(ngModel)]="year3">
                <label for="year2">2022</label>
            </div>
              <div class="form-group">
                  <label for="example-tel-input" class="form-control-label">Phone</label>
                  <input class="form-control" type="number" value="" id="example-tel-input" [(ngModel)]="phone" name="phone" [disabled]="disabled">
              </div>
              <div class="form-group">
                <label for="example-tel-input" class="form-control-label">Textarea</label>
                <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" [(ngModel)]="text" name="text" [disabled]="disabled"></textarea>
              </div>
              <label _ngcontent-xvo-c1="" class="form-control-label" for="example-tel-input" *ngIf="!disabled">User Image</label>
              <div class="form-group custom-file" *ngIf="!disabled">


                <input type="file" class="custom-file-input" id="customFileLang" #file lang="en" (change)="handleFileInput($event,'profile-img')" [disabled]="disabled">
                <label class="custom-file-label" for="customFileLang">Select file</label>
              </div>
              <label _ngcontent-xvo-c1="" class="form-control-label" for="example-tel-input" *ngIf="!disabled">Brand Image</label>
              <div class="form-group custom-file"  *ngIf="!disabled">
                <input type="file" class="custom-file-input" id="customFileLang" #file1 lang="en" (change)="handleFileInput($event,'brand-img')" [disabled]="disabled">
                <label class="custom-file-label" for="customFileLang">Select file</label>
              </div>
              <div class="form-group">
                <label for="example-tel-input" class="form-control-label">Sort Jury</label>
                <input class="form-control" type="number" value="" id="example-tel-input" [(ngModel)]="sort" name="sort" [disabled]="disabled">
            </div>
          </form>
          </div>
          <div class=modal-footer *ngIf="!disabled">
            <button  class="btn btn-primary" (click)="onSubmit()" type="button"  data-dismiss=modal>Save</button>
          </div>
       </div>
    </div>
 </div>
